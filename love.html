<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>ä¸€ç›´åœ¨æƒ³ä½ </title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <style>
    :root {
      --color-main: #6A0DAD;
      --color-main-grad: #a4508b;
      --color-cyan: #00ffff;
      --color-white: #ffffff;
      --color-pink: #f584b7;
      --color-shadow1: #00ffff;
      --color-shadow2: #6a0dad;
    }
    html, body {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      min-height: 100vh;
      min-width: 100vw;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      background: linear-gradient(135deg, var(--color-main-grad) 0%, var(--color-cyan) 100%);
      font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "STKaiti", "Segoe UI", Arial, cursive, sans-serif;
      color: var(--color-white);
    }
    body {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      overscroll-behavior: none;
    }
    #bgCanvas, #particleCanvas {
      position: fixed;
      left: 0; top: 0; z-index: 0;
      width: 100vw !important;
      height: 100vh !important;
      display: block;
    }
    .main-content {
      position: absolute;
      left: 50%; top: 50%;
      transform: translate(-50%, -50%);
      width: 75%; /* å æ®75%å®½åº¦ */
      max-width: 1000px;
      z-index: 3;
      text-align: center;
      user-select: none;
      pointer-events: none;
    }
    .love-saying {
      font-size: 3.2em;
      font-weight: bold;
      color: var(--color-pink);
      letter-spacing: .16em;
      padding-bottom: .15em;
      text-shadow:
        0 0 24px var(--color-shadow1),
        0 0 22px var(--color-shadow2),
        1px 2px 1px #0003;
      animation: romancePulse 2.8s infinite cubic-bezier(.77,0,.17,1);
      background: linear-gradient(90deg, var(--color-main) 10%, var(--color-cyan) 85%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1.5em;
    }
    @keyframes romancePulse {
      0% { transform:translateY(0) scale(1);}
      45%{ transform:translateY(-12px) scale(1.12);}
      100%{transform:translateY(0) scale(1);}
    }
    
    /* ä¼˜åŒ–åçš„å€’è®¡æ—¶æ ·å¼ - å¤§å­—ä½“ç®€æ´å¤§æ°” */
    .love-time {
      font-size: 2.8em;
      color: var(--color-white);
      text-shadow: 
        0 0 20px var(--color-cyan),
        0 0 40px var(--color-shadow1);
      padding: 1.2em 0.8em;
      letter-spacing: .08em;
      border-radius: 25px;
      background: rgba(50, 0, 72, 0.35);
      box-shadow: 
        0 0 30px 4px rgba(0, 255, 255, 0.3) inset,
        0 0 30px 2px rgba(106, 13, 173, 0.4);
      mix-blend-mode: normal;
      transition: all .3s;
      animation: floatText 4.8s ease-in-out infinite alternate;
      display: block;
      position: relative;
      overflow: hidden;
      font-weight: 600;
      line-height: 1.4;
      backdrop-filter: blur(5px);
      border: 2px solid rgba(255, 255, 255, 0.2);
      width: 100%;
      box-sizing: border-box;
    }
    
    /* ç®€æ´çš„æµå…‰æ•ˆæœ */
    .love-time::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.2), 
        transparent);
      transition: left 0.7s;
      z-index: -1;
    }
    
    .love-time:hover::before {
      left: 100%;
    }
    
    @keyframes floatText {
      0%   { transform:translateY(0);}
      40%  { transform:translateY(-8px);}
      100% { transform:translateY(0);}
    }

    /* å¹³æ¿ç«¯ä¼˜åŒ– */
    @media (max-width: 1024px) {
      .main-content {
        width: 85%;
      }
      .love-saying {
        font-size: 2.8em;
      }
      .love-time {
        font-size: 2.4em;
        padding: 1em 0.6em;
      }
    }

    /* æ‰‹æœºç«¯ç‰¹æ®Šä¼˜åŒ– */
    @media (max-width: 768px) {
      .main-content {
        width: 90%;
        transform: translate(-50%, -50%);
      }
      .love-saying {
        font-size: 2.2em;
        margin-bottom: 1em;
      }
      .love-time {
        font-size: 1.8em;
        padding: 0.8em 0.5em;
        line-height: 1.3;
      }
    }

    @media (max-width: 480px) {
      .main-content {
        width: 92%;
      }
      .love-saying {
        font-size: 1.8em;
        letter-spacing: .1em;
      }
      .love-time {
        font-size: 1.5em;
        padding: 0.7em 0.4em;
        letter-spacing: .05em;
      }
    }

    @media (max-width: 360px) {
      .love-saying {
        font-size: 1.6em;
      }
      .love-time {
        font-size: 1.3em;
        padding: 0.6em 0.3em;
      }
    }

    /* çƒŸèŠ±/ç²’å­çˆ†ç ´ç‚¹å‡»åé¦ˆæ ·å¼ */
    .touch-tip {
      position: fixed;
      left: 50%; top: 50%;
      transform: translate(-50%,-50%);
      font-size:1.3em;
      padding: 0.6em 1.8em;
      background: rgba(124,0,180,0.10);
      color: var(--color-cyan);
      border-radius:99em;
      z-index:30;
      pointer-events:none;
      opacity:0;transition: .5s;}
    .touch-tip.show { opacity:1; }

    /* éšè—æ»šåŠ¨æ¡ */
    ::-webkit-scrollbar {display:none;}
    audio { display: none !important; }
  </style>
</head>
<body>
  <!-- èƒŒæ™¯Canvasï¼šæµåŠ¨å…‰æ™•ã€æ¸å˜ -->
  <canvas id="bgCanvas"></canvas>
  <!-- ç²’å­çˆ±å¿ƒä¸æµªæ¼«äº’åŠ¨ç‰¹æ•ˆå±‚ -->
  <canvas id="particleCanvas"></canvas>

  <!-- å†…å®¹åŒºåŸŸ -->
  <div class="main-content">
    <div class="love-saying">ä¸€ç›´åœ¨æƒ³ä½ </div>
    <div class="love-time" id="loveTime">æƒ³ä½ æ—¶é•¿åŠ è½½ä¸­...</div>
  </div>
  <div class="touch-tip" id="tip">ç‚¹ä¸€ç‚¹ï¼Œæœ‰æƒŠå–œï½</div>

  <script>
    // == èƒŒæ™¯æ¢¦å¹»æµå…‰æ¸å˜ ==
    const bgCanvas = document.getElementById('bgCanvas');
    const bgCtx = bgCanvas.getContext('2d');
    function resizeBgCanvas(){
      bgCanvas.width = window.innerWidth;
      bgCanvas.height = window.innerHeight;
    }
    resizeBgCanvas();
    window.addEventListener('resize', resizeBgCanvas);

    function drawBackground(){
      let w = bgCanvas.width, h = bgCanvas.height;
      let gradient = bgCtx.createLinearGradient(0, 0, w, h);
      gradient.addColorStop(0, "#6a0dad");
      gradient.addColorStop(0.54,"#35135e");
      gradient.addColorStop(0.88, "#00ffff");
      bgCtx.fillStyle = gradient;
      bgCtx.fillRect(0,0,w,h);
      // æµ®åŠ¨å…‰æ–‘
      for(let i=1;i<=4;i++){
        let r = Math.abs(Math.sin(Date.now()/3000 + i))*0.4+0.28;
        let gx = w * [0.12,0.92,0.64,0.24][i-1];
        let gy = h * [0.25,0.34,0.82,0.61][i-1];
        let grad = bgCtx.createRadialGradient(gx,gy,0,gx,gy,r*w/2);
        grad.addColorStop(0,"rgba(255,255,255,0.07)");
        grad.addColorStop(.84,"rgba(189,0,255,0.11)");
        grad.addColorStop(1,"rgba(54,0,95,0)");
        bgCtx.beginPath();
        bgCtx.arc(gx,gy,r*w/2,0,2*Math.PI);
        bgCtx.fillStyle = grad;
        bgCtx.globalAlpha = 0.5;
        bgCtx.fill();
        bgCtx.globalAlpha = 1;
      }
      requestAnimationFrame(drawBackground);
    }
    drawBackground();

    // == ç²’å­çˆ±å¿ƒ/çˆ†ç ´/äº’åŠ¨ ==
    const particleCanvas = document.getElementById('particleCanvas');
    const pCtx = particleCanvas.getContext('2d');
    let dpr = window.devicePixelRatio || 1;
    function resizeParticleCanvas() {
      let w = window.innerWidth, h = window.innerHeight;
      particleCanvas.width = w*dpr;
      particleCanvas.height = h*dpr;
      particleCanvas.style.width = w + 'px';
      particleCanvas.style.height = h + 'px';
      pCtx.setTransform(1,0,0,1,0,0); //reset
      pCtx.scale(dpr,dpr);
    }
    resizeParticleCanvas();
    window.addEventListener('resize', resizeParticleCanvas);

    // çˆ±å¿ƒå½¢çŠ¶ç²’å­åˆå§‹å‚æ•°
    function heartPos(t){
      // æ ‡å‡†çˆ±å¿ƒæ›²çº¿
      let x=16 * Math.pow(Math.sin(t),3);
      let y=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
      return [x,y];
    }
    const HEART_DENS = 100;
    const particles=[];
    for(let i=0;i<HEART_DENS;i++){
      let rad = Math.PI * 2 * i/HEART_DENS;
      let [hx, hy] = heartPos(rad);
      // æ ·æœ¬ç‚¹åˆ†å¸ƒ
      let color = `hsl(${270+35*Math.random()},88%,${54+16*Math.random()}%)`;
      particles.push({
        x: Math.random()*window.innerWidth,
        y: Math.random()*window.innerHeight,
        tx: 0, ty:0,       // ç›®æ ‡ç‚¹
        color,
        v: Math.random()*1.4+0.5,
        radius: Math.random()*2+1.4,
        trace: [],
        heartIdx: i
      });
    }

    function updateHeartParticles(t_ms){
      let t = ((t_ms||performance.now())/2200)%1;
      let centerX=window.innerWidth/2,
          centerY=window.innerHeight/2 - 45;
      let scale = Math.min(window.innerWidth,window.innerHeight) * .027 + 110;
      // å¿ƒè·³è„‰å†²
      let pulse = 1 + 0.14*Math.sin(performance.now()/660);
      for(let i=0;i<particles.length;i++){
        let rad = Math.PI * 2 * i / HEART_DENS + t * (Math.PI*2);
        let [hx,hy] = heartPos(rad);
        let tx = centerX + hx * scale * pulse;
        let ty = centerY + hy * scale * pulse;
        // å¹³æ»‘è¶‹å‘
        particles[i].x += (tx-particles[i].x)*.09;
        particles[i].y += (ty-particles[i].y)*.09;
        particles[i].tx = tx;
        particles[i].ty = ty;
        particles[i].radius = 1.8 + Math.sin(performance.now()/630 + 7*i);
      }
    }

    // ç»˜åˆ¶çˆ±å¿ƒå’Œæµªæ¼«ç²’å­
    function drawParticles() {
      pCtx.clearRect(0,0,window.innerWidth,window.innerHeight);
      // å¿ƒå½¢ç²’å­
      updateHeartParticles();
      for(let i=0;i<particles.length;i++){
        let p = particles[i];
        pCtx.beginPath();
        pCtx.arc(p.x, p.y, p.radius, 0, Math.PI*2);
        pCtx.fillStyle = p.color;
        pCtx.shadowColor = p.color;
        pCtx.shadowBlur = 18;
        pCtx.globalAlpha = .72;
        pCtx.fill();
        pCtx.shadowBlur = 0;
        pCtx.globalAlpha = 1;
      }
      // ç²’å­æ‹–å°¾æ•ˆæœ
      explodingParticles = explodingParticles.filter(e=>!e.dead);
      for(let e of explodingParticles){
        e.update();
        e.draw(pCtx);
      }
      requestAnimationFrame(drawParticles);
    }
    // ==== çˆ†ç ´ç²’å­ï¼ˆç”¨äºç‚¹å‡»äº’åŠ¨/çƒŸèŠ±ï¼‰ ====
    class ExplodeParticle {
      constructor(x, y, angle, speed, color){
        this.x = x; this.y = y;
        this.vx = Math.cos(angle)*speed;
        this.vy = Math.sin(angle)*speed;
        this.color = color;
        this.life = 38 + Math.random()*12;
        this.radius = 2.4+3.5*Math.random();
        this.alpha = 1;
        this.dead = false;
      }
      update() {
        this.x += this.vx;
        this.y += this.vy;
        this.vx *= .97;
        this.vy += .13;
        this.vy *= .98;
        this.radius *= .97;
        this.life -= 1;
        this.alpha = this.life/60;
        if(this.life<=0 || this.radius<=.35) this.dead = true;
      }
      draw(ctx) {
        ctx.save();
        ctx.globalAlpha = this.alpha;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, 2*Math.PI);
        ctx.fillStyle = this.color;
        ctx.shadowBlur = 20;
        ctx.shadowColor = this.color;
        ctx.fill();
        ctx.globalAlpha = 1;
        ctx.restore();
      }
    }
    let explodingParticles = [];
    function triggerExplosion(x, y){
      let colorBase = 270 + Math.random()*50;
      for(let i=0;i<36;i++){
        let angle = 2*Math.PI*i/36;
        let speed = Math.random() * 5.5 + 2.2;
        let color = `hsl(${colorBase + Math.random()*20},98%,65%)`;
        explodingParticles.push(new ExplodeParticle(x, y, angle, speed, color));
      }
    }
    particleCanvas.addEventListener('click', ev => {
      let x = ev.clientX, y=ev.clientY;
      triggerExplosion(x, y);
      showTip(ev.clientX, ev.clientY);
      audioSwitch();
    });
    particleCanvas.addEventListener('touchstart', ev => {
      if(ev.touches.length>=1){
        let x = ev.touches[0].clientX, y = ev.touches[0].clientY;
        triggerExplosion(x, y);
        showTip(x, y);
        audioSwitch();
      }
    },{passive:true});
    function showTip(x, y){
      let tip = document.getElementById('tip');
      tip.innerText = "ğŸ’˜ä¸€ç›´åœ¨æƒ³ä½ ğŸ’˜"
      tip.style.left = x + 'px';
      tip.style.top = y + 'px';
      tip.classList.add('show');
      setTimeout(()=>tip.classList.remove('show'), 1020);
    }

    drawParticles();

    // == æ‹çˆ±æ—¶é•¿å€’è®¡æ—¶ ==
    function updateLoveTime() {
      const st = new Date("2025-10-18T13:28:07").getTime();
      let now = Date.now();
      let s = Math.floor((now-st)/1000);
      let days = Math.floor(s/86400); s %= 86400;
      let hours = Math.floor(s/3600); s %=3600;
      let minutes = Math.floor(s/60);
      let seconds = s%60;
      document.getElementById('loveTime').textContent =
        `æƒ³ä½ äº† ${days} å¤© ${hours} å°æ—¶ ${minutes} åˆ†é’Ÿ ${seconds} ç§’`;
    }
    setInterval(updateLoveTime,1000);
    updateLoveTime();

    // == æç¤ºå¼•å¯¼é¦–æ¬¡äº¤äº’ï¼ˆç§»åŠ¨ç«¯ï¼‰==
    setTimeout(()=>{
      let tip = document.getElementById('tip');
      tip.innerText = "è€å©†ğŸ˜‹ï¼Œç‚¹ä¸€ç‚¹å±å¹•";
      tip.style.left = "50%";
      tip.style.top = "85%";
      tip.classList.add('show');
      setTimeout(()=>tip.classList.remove('show'), 3800);
    },2200);

    // éŸ³é¢‘æ§åˆ¶å‡½æ•°
    function audioSwitch() {
      // è¿™é‡Œå¯ä»¥æ·»åŠ éŸ³é¢‘æ§åˆ¶é€»è¾‘
    }

  </script>
</body>
</html>